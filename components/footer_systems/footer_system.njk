{% macro footer_systems_link_list (
    category_id = "Visual Style"
    ) %}
    {% set posts = systemsposts %}

<h4 class="escom-footer-systems__header">{{ category_id }}</h4>
<ul class="escom-footer-systems__list">
    {% for post_id, post_object in posts %}
        {% if post_object.category === category_id %}
    <li class="escom-footer-systems__list-item"><a  class="escom-footer-systems__list-item-link" href="/articles/{{ post_object.id }}.html">{{ post_object.title_abbreviation }}</a></li>
        {% endif %}
    {% endfor %}
</ul>

{% endmacro %}

{% macro footer_systems () %}

<div class="esds-row esds-container--light esds-row--tall-inset">
    <div class="esds-row__inner escom-footer-systems__row">
        <div class="escom-long-form-text">
            <h2>@components</h2>
            <p class="escom-long-form-text__lead">The complete collection of EightShapes writings on design systems, here for free. Follow <a href="https://twitter.com/components">@components</a> on Twitter for updates and new articles.</p>
        </div>
        <div class="escom-footer-systems__columnset">
            <div class="escom-footer-systems__column">
                {% call footer_systems_link_list(category_id="Visual Style") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Documentation") %}{% endcall %}
            </div>
            <div class="escom-footer-systems__column">
                {% call footer_systems_link_list(category_id="UI Components") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Releases") %}{% endcall %}
            </div>
            <div class="escom-footer-systems__column">
                {% call footer_systems_link_list(category_id="Strategy") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Contributions") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Systems of Systems") %}{% endcall %}
            </div>
            <div class="escom-footer-systems__column">
                {% call footer_systems_link_list(category_id="Process") %}{% endcall %}
                {% call footer_systems_link_list(category_id="People") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Workshop Activities") %}{% endcall %}
            </div>
        </div>
    </div>
</div>

{% endmacro %}