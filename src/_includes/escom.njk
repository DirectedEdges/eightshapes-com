{# This file is automatically generated by the concatenate-component-macros.js build task, do not edit directly #}
{% import '../../node_modules/esds-library/components/esds.njk' as esds %}
{% macro article_figure(
    image_path = false,
    image_number = 1,
    image_alt = false,
    image_filetype = "png",
    caption = "",
    class = false
    ) %}

<figure class="escom-article-figure{% if class %} {{ class }}{% endif %}">
    <div class="escom-article-figure__image-container">
        <img class="escom-article-figure__image" src="/images/articles/{{ image_path }}/{{ image_number }}.{{ image_filetype }}" alt="{{ image_alt }}">
    </div>
    <figcaption class="escom-article-figure__caption">{{ caption | safe }}</figcaption>
</figure>

{% endmacro %}

{% macro bar_quote(
    class=false,
    quote = "",
    quote_background = false
) %}

{% if quote_background %}
    {% set class = class + " escom-bar-quote--" + quote_background %}
{% endif %}

<div class="escom-bar-quote{% if class %} {{ class }}{% endif %}">
    {{ quote | safe }}
</div>

{% endmacro %}
{% macro bio_thumbnails() %}
    {% set bio_thumbnails = [
         {
           "name": "Nathan Curtis",
           "role": "Principal & Founder",
           "image_path": "nathan-curtis"
         },
         {
           "name": "Dan Brown",
           "role": "Principal & Founder",
           "image_path": "dan-brown"
         },
         {
           "name": "James Melzer",
           "role": "Sr. Director, UX",
           "image_path": "james-melzer"
         },
         {
           "name": "Kevin Powell",
           "role": "Principal Front End Developer",
           "image_path": "kevin-powell"
         }
       ] %}
    <div class="escom-bio-thumbnails">
      {% for thumbnail in bio_thumbnails %}
          <a class="escom-bio-thumbnail" href="{{ thumbnail.image_path }}">
            <div class="escom-bio-thumbnail__image-wrap">
              <img class="escom-bio-thumbnail__image" src="images/bios/bio-thumb-{{ thumbnail.image_path }}.png" alt="{{ up.header }}">
            </div>
            <h3 class="escom-bio-thumbnail__name">{{ thumbnail.name }}</h3>
            <p class="escom-bio-thumbnail__role">{{ thumbnail.role }}</p>
          </a>
      {% endfor %}
      <div class="escom-bio-thumbnails__placeholder"></div>
      <div class="escom-bio-thumbnails__placeholder"></div>
      <div class="escom-bio-thumbnails__placeholder"></div>
      <div class="escom-bio-thumbnails__placeholder"></div>
    </div>
{% endmacro %}

{% macro card_grid() %}
  <div class="escom-card-grid">
    {{ caller() }}
    <div class="escom-card-grid__placeholder"></div>
    <div class="escom-card-grid__placeholder"></div>
  </div>
{% endmacro %}

{% macro cta(
    class="",
    heading="Ready?",
    deck=false,
    button_text="Email Us",
    button_href=false
) %}

    {% set cta_class = "esds-row esds-row--tall-inset esds-container--brand escom-cta " + class %}

    {% call esds.row(class=cta_class) %}
        <div class="escom-long-form-text">
            <h2>{{heading}}</h2>
            {% if deck %}
            <p class="escom-long-form-text__lead">{{ deck }}</p>
            {% endif %}
        </div>
        {% if button_text %}
        <div class="escom-cta__action">
        {{ esds.button(text=button_text, class="esds-button--secondary esds-button--large escom-cta__action-button", element="a", href=button_href) }}
        </div>
        {% endif %}
    {% endcall %}
{% endmacro %}

{% macro fifty_fifty(
    class=false,
    image=false
) %}
    <div class="escom-fifty-fifty esds-container--white{{ ' ' + class if class }}">
        <div class="escom-fifty-fifty__image" style="background-image: url({{ image }})"></div>
        <div class="escom-fifty-fifty__body">
            <div class="escom-fifty-fifty__content">
                {{ caller() }}
            </div>
        </div>
    </div>
{% endmacro %}

{% macro footer_systems_link_list (
    category_id = false,
    tag=false
    ) %}

{% if category_id %}
<h4 class="escom-footer-systems__header">{{ category_id }}</h4>
<ul class="escom-footer-systems__list">
    {%- for post in collections.all -%}
        {%- if post.data.category == category_id -%}
    <li class="escom-footer-systems__list-item">
    <a  class="escom-footer-systems__list-item-link" href="{{ post.url }}">{{ post.data.title_abbreviation }}</a>
    </li>
        {%- endif -%}
    {% endfor %}
</ul>
{% else %}
<h4 class="escom-footer-systems__header">{{ tag }}</h4>
<ul class="escom-footer-systems__list">
    {% for post in collections[tag] %}
        <li class="escom-footer-systems__list-item"><a class="escom-footer-systems__list-item-link" href="{{ post.url }}">{{ post.data.title_abbreviation }}</a></li>
    {% endfor %}
</ul>
{% endif %}

{% endmacro %}

{% macro footer_systems () %}

<div class="esds-row esds-container--light esds-row--tall-inset">
    <div class="esds-row__inner escom-footer-systems__row">
        <div class="escom-long-form-text">
            <h2>@components</h2>
            <p class="escom-long-form-text__lead">The complete collection of EightShapes writings on design systems, here for free. Follow <a href="https://twitter.com/components">@components</a> on Twitter for updates and new articles.</p>
        </div>
        <div class="escom-footer-systems__columnset">
            <div class="escom-footer-systems__column">
                {% call footer_systems_link_list(tag="visual style") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Documentation") %}{% endcall %}
            </div>
            <div class="escom-footer-systems__column">
                {% call footer_systems_link_list(category_id="UI Components") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Releases") %}{% endcall %}
            </div>
            <div class="escom-footer-systems__column">
                {% call footer_systems_link_list(category_id="Strategy") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Contributions") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Systems of Systems") %}{% endcall %}
            </div>
            <div class="escom-footer-systems__column">
                {% call footer_systems_link_list(category_id="Process") %}{% endcall %}
                {% call footer_systems_link_list(category_id="People") %}{% endcall %}
                {% call footer_systems_link_list(category_id="Workshop Activities") %}{% endcall %}
            </div>
        </div>
    </div>
</div>

{% endmacro %}
{% macro hero_profile(
    class=false,
    profile_index=0,
    prev_href="#",
    next_href="#"
  ) %}
s    {% set bio = profiles[profile_index] %}
    {% set next_index = profile_index + 1 %}
    {# Wrap around if the next index is larger than the number of profiles #}
    {% if next_index > profiles.length - 1 %}
        {% set next_index = 0 %}
    {% endif %}

    {# Wrap around if the previous index is less than 0 #}
    {% set prev_index = profile_index - 1 %}
    {% if prev_index < 0 %}
        {% set prev_index = profiles.length - 1 %}
    {% endif %}

    {% set prev_href = profiles[prev_index].href %}
    {% set next_href = profiles[next_index].href %}

    <div class="escom-hero-profile">
        <div class="escom-hero-profile__image-wrap">
            <a href="{{ prev_href }}" class="escom-hero-profile__nav escom-hero-profile__nav--previous">
                {{ esds.icon(name="angle-left", class="escom-hero-profile__nav-icon") }}
            </a>
            <img alt="{{ bio.name }}" class="escom-hero-profile__image" src="{{ bio.image }}" />
            <a href="{{ next_href }}" class="escom-hero-profile__nav escom-hero-profile__nav--next">
                {{ esds.icon(name="angle-right", class="escom-hero-profile__nav-icon") }}
            </a>
        </div>
        <div class="hero-profile__body">
            <h1 class="escom-hero-profile__heading">{{ bio.name }}</h1>
            <div class="escom-hero-profile__subhead">{{ bio.title }}</div>
            <div class="escom-hero-profile__subhead">Eightshapes since {{ bio.start_year }}</div>
        </div>
    </div>

{% endmacro %}

{% macro bio_hero(args) %}
  {% set profiles = [
      {
        name: "Nathan Curtis",
        title: "Founder and Principal",
        start_year: "2006",
        medium: "https://medium.com/@nathanacurtis",
        twitter: "https://twitter.com/nathanacurtis",
        linkedin: "https://www.linkedin.com/in/nathancurtis",
        eightshapes_com: "nathan-curtis.html",
        image: "images/components/bio_hero/bio-nathan-curtis.jpg"
      },
      {
        name: "Dan Brown",
        title: "Founder and Principal",
        start_year: "2006",
        medium: "https://medium.com/@brownorama",
        twitter: "https://twitter.com/brownorama",
        linkedin: "https://www.linkedin.com/in/danmbrown",
        eightshapes_com: "dan-brown.html",
        image: "images/components/bio_hero/bio-dan-brown.jpg"
      },
      {
        name: "James Melzer",
        title: "Director, UX",
        start_year: "2009",
        medium: "https://medium.com/@jamesmelzer",
        twitter: "https://twitter.com/jamesmelzer",
        linkedin: "https://www.linkedin.com/in/jamesmelzer",
        eightshapes_com: "james-melzer.html",
        image: "images/components/bio_hero/bio-james-melzer.jpg"
      },
      {
        name: "Kevin Powell",
        title: "Principal Front End Developer",
        start_year: "2014",
        medium: "https://medium.com/@kevinmpowell",
        twitter: "https://twitter.com/kevinmpowell",
        linkedin: "https://www.linkedin.com/in/kevinmpowell",
        eightshapes_com: "kevin-powell.html",
        image: "images/components/bio_hero/bio-kevin-powell.jpg"
      }
    ]
  %}
  {% set next_index = args.index + 1 %}
  {% set prev_index = args.index - 1 %}

  {% if next_index == profiles.length %}
    {% set next_index = 0 %}
  {% endif %}

  {% if prev_index < 0 %}
    {% set prev_index = (profiles.length - 1) %}
  {% endif %}

  {% set profile = profiles[args.index] %}

  <div class="hero hero__bio">
    <div class="hero-bio__content">
      <div class="hero-bio__image-wrap">
        <img src="{{ profile.image }}" alt="{{ profile.name }}" class="hero-bio__image">
        <div class="hero-bio__navigation">
          <a href="{{ profiles[prev_index].eightshapes_com }}" class="hero-bio__prev-bio">{{ icon({icon_name: 'angle-left', class: 'hero-bio__nav-icon'}) }}</a>
          <a href="{{ profiles[next_index].eightshapes_com }}" class="hero-bio__next-bio">{{ icon({icon_name: 'angle-right', class: 'hero-bio__nav-icon'}) }}</a>
        </div>
      </div>
      <div class="hero__bio-copy">
        <h1 class="hero__title">{{ profile.name }}</h1>
        <div class="hero__subhead">{{ profile.title }}</div>
        <div class="hero__subhead">EightShapes since <span class="hero-bio__tenure-value">{{ profile.start_year }}</span></div>
      </div>
    </div>
    <dl class="hero__attributes">
      <dt>{{icon({icon_name: 'medium', class: 'hero-bio__social-icon'})}}</dt>
      <dd><a href="{{ profile.medium }}">Medium</a></dd>
      <dt>{{icon({icon_name: 'twitter', class: 'hero-bio__social-icon'})}}</dt>
      <dd><a href="{{ profile.twitter }}">Twitter</a></dd>
      <dt>{{icon({icon_name: 'linkedin', class: 'hero-bio__social-icon'})}}</dt>
      <dd><a href="{{ profile.linkedin }}">LinkedIn</a></dd>
    </dl>
  </div>
{% endmacro %}

{% macro workshop_hero(args) %}
  {% if args.background == undefined %}
    {% set args = args|updateobj('background', '') %}
  {% endif %}
  {% if args.title == undefined %}
    {% set args = args|updateobj('title', 'The Component Cut-Up') %}
  {% endif %}
  {% if args.duration == undefined %}
    {% set args = args|updateobj('duration', 'Up to 1/2 Day') %}
  {% endif %}
  {% if args.participants == undefined %}
    {% set args = args|updateobj('participants', '4 to 40') %}
  {% endif %}

  <div class="hero hero__workshop {{ args.background }}">
    <div class="hero__subhead">Workshop</div>
    <h1 class="hero__title">{{ args.title }}</h1>
  </div>
  <dl class="hero__attributes">
    <dt>{{icon({icon_name: 'stopwatch', class: 'hero__attribute-icon'})}} Duration</dt>
    <dd>{{ args.duration }}</dd>
    <dt>{{icon({icon_name: 'participants', class: 'hero__attribute-icon'})}}Participants</dt>
    <dd>{{ args.participants }}</dd>
  </dl>
{% endmacro %}

{% macro client_brands(args) %}
{% endmacro %}

{% macro eightshapes_logo(args) %}
  {% set class = args.class + " eightshapes-logo" %}
  {{ icon({icon_name: 'eightshapes-logo', class: class}) }}
{% endmacro %}

{% macro footer(args) %}
  <div class="footer container-fluid">
    <div class="container-fluid-inner">
      {{ icon({icon_name: 'eightshapes-logo', class: 'footer__logo'})}}
      <div class="footer__address">
        12805 Misty Creek Lane<br/>
        Fairfax, VA 22033<br/>
        <strong>p:</strong> <a href="tel:7032968831">703.296.8831</a><br/>
        <strong>e:</strong> <a href="mailto:info@eightshapes.com">info@eightshapes.com</a>
      </div>
      <div class="footer__social">
        <ul class="footer__social-list">
          <li>
            <a href="https://twitter.com/eightshapes">
              {{icon({icon_name: 'twitter', class: 'footer__social-icon'})}}@eightshapes
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/eightshapes-llc">
              {{icon({icon_name: 'linkedin', class: 'footer__social-icon'})}}EightShapes
            </a>
          </li>
          <li>
            <a href="https://medium.com/eightshapes-llc">
              {{icon({icon_name: 'medium', class: 'footer__social-icon'})}}@eightshapes
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
{% endmacro %}

{% macro header(args) %}
  <div class="container-fluid header">
    <div class="container-fluid-inner">
    {{ eightshapes_logo({class: 'header__logo'}) }}
    <p class="header__copy lead">
      EightShapes designs web-based products and systems that make for beautiful, usable, cohesive experiences.
    </p>
    <ul class="header__anchor-nav">
      <li class="header__anchor-nav-item"><a class="header__anchor-nav-link" href="#our-work">Our Work</a></li>
      <li class="header__anchor-nav-item"><a class="header__anchor-nav-link" href="#services">What We Do</a></li>
      <li class="header__anchor-nav-item"><a class="header__anchor-nav-link" href="#who-we-are">Who We Are</a></li>
      <li class="header__anchor-nav-item"><a class="header__anchor-nav-link" href="#contributions">Contributions</a></li>
    </ul>
  </div>
   </div>
{% endmacro %}

{% macro header_slim(args) %}
  <div class="header__slim {{args.class}}">
    <a href="/">{{ eightshapes_logo({class: 'header__logo'}) }}</a>
  </div>
{% endmacro %}

{% macro header_section(args) %}
  <div class="header__section">
    <a class="header__crumb-link" href="/" title="EightShapes Home">
      {{ eightshapes_logo({class: 'header__logo-subpage'}) }}
    </a>
  </div>
{% endmacro %}

{% macro header_workshop(args) %}
  {% if args.back_href == undefined %}
    {% set args = args|updateobj('back_href', '/design-systems') %}
  {% endif %}
  {% if args.section == undefined %}
    {% set args = args|updateobj('section', 'Design Systems') %}
  {% endif %}
  <div class="header__workshop {{args.class}}">
    <a class="header__crumb-link" href="/" title="EightShapes Home">
      {{ eightshapes_logo({class: 'header__logo-subpage'}) }}
      {{ icon({icon_name: 'angle-right', class: 'header__crumb-arrow-icon'}) }}
    </a>
    <a class="header__crumb-link" href="{{ args.back_href }}" title="{{ args.section }}">
      <span class="header__section-title">{{ args.section }}</span>
    </a>
  </div>
{% endmacro %}

{% macro page_cta(args) %}
  {% if args == undefined %}
    {% set args = 
    	{
	    	header: 'Ready?', 
	    	lead: 'About to kickstart a system? Need a partner to build it? Ready to spread or sustain it?'
    	} 
    %}
  {% endif %}

  <div class="container-fluid xups background-orange">
    <div class="container-fluid-inner">
      <div class="page-cta">
        <h2>{{ args.header }} </h2>
        <p class="lead">{{ args.lead }}</p>
        <p><a class="page-cta__button" href="mailto:info@eightshapes.com">Let's talk</a></p>
      </div>
    </div>
  </div>
{% endmacro %}

{% macro whatwedo(args) %}
  <div class="whatwedo">
    <div class="pseudo-row">
      <div class="productdesign-block block">
          <h3>Design</h3>
          <p>We provide end-to-end user experience design, structuring projects to be collaborative, intense, and sensitive to constraints.</p>
          <ul>
            <li>UX Strategy</li>
            <li>UX Design</li>
            <li>Information Architecture</li>
            <li>Visual Design</li>
          </ul>
          <ul>
            <li>Prototyping</li>
            <li>Content</li>
            <li>Research</li>
            <li>HTML &amp; CSS</li>
          </ul>
      </div><div class="discovery-block block">
          <h3>Discovery</h3>
          <p>We align your team around a shared product vision through design principles, customer insights, prototyped concepts.</p>
          <div class="cta"><a href="product-discovery.html">Learn More{{ icon({icon_name: 'angle-right', class: 'title-carat'})}}</a></div>
      </div><div class="systems-block block">
          <h3>Systems</h3>
          <p>We guide you to start, build, spread and sustain design systems so your teams can make innovative, beautiful experiences together.</p>
          <div class="cta"><a href="design-systems.html">Learn More {{ icon({icon_name: 'angle-right', class: 'title-carat'})}}</a></div>
      </div>
    </div>
  </div>
{% endmacro %}

{% macro link_list(
    class=false,
    items=[
        {
            href: "[link 1 href]",
            title: "[link 1 title]",
            pill: false,
            description: "[link 1 description]",
            metadata: false
        }
    ]
) %}

<ul class="escom-link-list{% if class %} {{ class }}{% endif %}">
    {% for item in items %}
    {% if item.heading %}
    <li class="escom-link-list__item escom-link-list__item--heading">
        {{ item.heading }}
    </li>
    {% else %}
    <li class="escom-link-list__item{{ ' escom-link-list__item--grid' if item.image}}">
        {% if item.image %}
        <div class="escom-link-list__image-cell">
            {% if item.href %}
            <a class="escom-link-list__image-link" href="{{ item.href }}">
            {% endif %}
                <img class="escom-link-list__image" alt="{{ item.title }}" src="{{ item.image }}"/>
            {% if item.href %}
            </a>
            {% endif %}
        </div>
        {% endif %}
        <dl class="escom-link-list__group">
            {% if item.eyebrow %}
            <dt class="escom-link-list__eyebrow">
                {{ item.eyebrow }}
            </dt>
            {% endif %}
            <dt class="escom-link-list__title">
                {% if item.href %}
                <a class="escom-link-list__link" href="{{ item.href }}">
                {% endif %}
                    {{ item.title | markdown | replace('<p>', '') | replace('</p>', '') }} {# markdown wraps everything processed with <p> tags, we don't want that here #}
                {% if item.href %}
                </a>
                {% endif %}
                {% if item.pill %}
                {{ pill(class="escom-pill--brand", label=item.pill) }}
                {% endif %}
            </dt>
            {% if item.description %}
            <dd class="escom-link-list__description">
                {{ item.description }}
            </dd>
            {% endif %}
            {% if item.metadata %}
            <dt class="escom-link-list__metadata">
                {{ item.metadata }}
            </dt>
            {% endif %}
        </dl>
    </li>
    {% endif %}
    {% endfor %}
</ul>

{% endmacro %}

{% macro logo(args) %}
  {% set class = args.class + " eightshapes-logo" %}
  {{ icon({icon_name: 'eightshapes-logo', class: class}) }}
{% endmacro %}
{% macro pill(
    class=false,
    label="Pill Label"
) %}

<span class="escom-pill{% if class %} {{ class }}{% endif %}">
    {{ label }}
</span>

{% endmacro %}

{% macro pull_quote(
    class=false,
    quote = "",
    source_label = false,
    source_href = false,
    attribution = false,
    quote_background = false
) %}

{% if quote_background %}
    {% set class = class + " escom-pull-quote--" + quote_background %}
{% endif %}

        <div class="escom-pull-quote{% if class %} {{ class }}{% endif %}">
            <div class="escom-pull-quote__the-quote">
                {{ quote | safe }}
            </div>
            {% if source_label %}
            <div class="escom-pull-quote__source">
                {% if source_href %}
                <a href="{{ source_href }}">
                {% endif %}
                {{ source_label }}
                {% if source_href %}
                </a>
                {% endif %}
            </div>
            {% endif %}
            {% if attribution %}
            <div class="escom-pull-quote__attribution">
                {{ attribution | safe }}
            </div>
            {% endif %}
        </div>

{% endmacro %}

{% macro site_footer(
  ) %}

    {% call esds.row(background="dark", class="escom-site-footer esds-row--tall-inset") %}
    
        <div class="escom-site-footer__row">
            <div class="escom-site-footer__column">
                {{ esds.icon(name="eightshapes-logo", class="escom-site-footer__logo") }}
                <div class"escom-site-footer__address-row">12805 Misty Creek Lane</div> 
                <div class"escom-site-footer__address-row">Fairfax, VA 22033</div>
            </div>
            <div class="escom-site-footer__column escom-site-footer__column--offset">
                <a class="escom-site-footer__link" tel="703.296.8831"> (703) 296-8831</a>
                <a class="escom-site-footer__link" href="mailto:info@eightshapes.com">info@eightshapes.com</a>
            </div>
            <div class="escom-site-footer__column escom-site-footer__column--offset">
                <a class="escom-site-footer__social-link" href="https://twitter.com/eightshapes">
                    {{ esds.icon(name="twitter", class="escom-site-footer__icon escom-site-footer__icon--twitter") }} 
                    <span class="escom-site-footer__social-name">@eightshapes</span>
                </a>
                <a class="escom-site-footer__social-link" href="https://www.linkedin.com/company/eightshapes-llc">
                    {{ esds.icon(name="linkedin", class="escom-site-footer__icon escom-site-footer__icon--linkedin") }} 
                    <span class="escom-site-footer__social-name">@EightShapes</span>
                </a>
                <a class="escom-site-footer__social-link" href="https://medium.com/eightshapes-llc">
                    {{ esds.icon(name="medium", class="escom-site-footer__icon escom-site-footer__icon--medium") }} 
                    <span class="escom-site-footer__social-name">@eightshapes</span>
                </a>
            </div>
        </div>

    {% endcall %}

{% endmacro %}

{% macro table(
    class="",
    headers=[{
                            key: 'header_1',
                            label: 'Header 1'
                        },
                        {
                            key: 'header_2',
                            label: 'Header 2'
                        },
                        {
                            key: 'header_3',
                            label: 'Header 3'
                        }
                    ],
                rows=[
                    {
                        header_1: 'Alpha',
                        header_2: 'Beta',
                        header_3: 'Gamma'
                    },
                    {
                        header_1: 'Delta',
                        header_2: 'Epsilon',
                        header_3: ['Zeta', 'Eta', 'Theta', 'Iota']
                    }
                ],
                suppress_responsive_headers=['header_2']) %}
    <table class="escom-table {{ class }}">
        <thead class="escom-table__head">
            <tr class="escom-table__row">
                {% for header in headers %}
                    <th class="escom-table__header-cell">{{ header.label }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody class="escom-table__body">
            {% for row in rows %}
                <tr class="escom-table__row">
                    {% for header in headers %}
                        <td class="escom-table__cell{{ ' ' + header.column_class if header.column_class }}" {% if not header.key in suppress_responsive_headers %} data-escom-header="{{ header.label }}" {% endif %}>
                            {% if row[header.key][0].length > 1 %}
                                {# This is an array of values #}
                                {{ row[header.key] | join('<br>') | safe }}
                            {% else %}
                                {# This is just a string #}
                                {{ row[header.key] }}
                            {% endif %}
                        </td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endmacro %}

{% macro tabs(class, tabs) %}
    <div class="escom-tabs{{ ' ' + class if class }}">
        <div class="escom-tabs__tabs">
            {% for tab in tabs %}
                {% set tab_key = tab.label | lower | replace(r/[^a-z0-9]+/g, '-') %}
                <div class="escom-tabs__tab">
                    <button class="escom-tabs__button{{ ' escom-tabs__button--is-active' if tab.active }}" data-target="tab-{{ tab_key }}">
                        {{ tab.label }}
                    </button>
                </div>
            {% endfor %}
        </div>

{#         {% for tab in tabs %}
            {% set tab_key = tab.label | lower | replace(r/[^a-z0-9]+/g, '-') %}
            <div id="tab-{{ tab_key }}" class="escom-tabs__content {{ ' escom-tabs__content--is-active' if tab.active }}">
                {{ tab.content | safe }}
            </div>
        {% endfor %} #}
    </div>
{% endmacro %}

{% macro tab_pane(class, label, active) %}
    {% set tab_key = label | lower | replace(r/[^a-z0-9]+/g, '-') %}
    <div id="tab-{{ tab_key }}" class="escom-tabs__content {{ ' escom-tabs__content--is-active' if active }}">
        {{ caller() }}
    </div>
{% endmacro %}

{% macro timeline(
    class=false,
    col_1_heading=false,
    col_2_heading=false,

    items=[
        {
            time: "[Timeline time]",
            heading: "[Timeline 1 heading]",
            content_right: false,
            content_bottom: false
        }
    ]
) %}
    <ul class="escom-timeline{% if class %} {{ class }}{% endif %}">
        {% if col_1_heading %}
        <li class="escom-timeline__item escom-timeline__item--header">
            <div class="escom-timeline__row-text">
                <span class="escom-timeline__item-heading">
                    {{ col_1_heading }}
                </span>
                <span class="escom-timeline__item-heading">
                    {{ col_2_heading }}
                </span>
            </div>
        </li>
        {% endif %}
        {% for item in items %}
        <li class="escom-timeline__item">
            {% if item.content_right %}
            <div class="escom-timeline__content-left-right">
            {% endif %}
                <h3 class="escom-timeline__heading">
                    {{ item.heading }}
                    {% if item.time %}
                    <p class="escom-timeline__time">
                        {{ item.time }}
                    </p>
                    {% endif %}
                </h3>
                {% if item.content_right %}
                <div class="escom-timeline__content-right">
                    {% for content in item.content_right %}
                        {{ content }}
                    {% endfor %}
                </div>
            </div>
                {% endif %}
            <div class="escom-timeline__content-bottom">
                {{ item.content_bottom }}
            </div>
        </li>
        {% endfor %}
    </ul>
{% endmacro %}

{% macro title_row(
    class=false,
    background_image="",
    background="dark",
    logo=true,
    heading=false,
    decks=["[Empty Deck Paragraph]"],
    page_anchors=[],
    inset_class="esds-row--tall-inset"
) %}

    {% set title_row_class = "esds-row esds-container--" + background + " escom_title_row " + class + " " + inset_class %}
    {% call esds.row(background_image=background_image, class=title_row_class)%}
        {% if logo %}
            <div class="escom-title-row__logo-container">
                {{ esds.icon(name="eightshapes-logo", class="escom-title-row__logo") }}
            </div>
        {% endif %}
        {% if heading %}
            <h1 class="escom-title-row__title">{{heading | safe}}</h1>
        {% endif %}
        {% if decks %}
            {% for deck in decks %}
            <p class="escom-title-row__lead">{{ deck | safe }}</p>
            {% endfor %}
        {% endif %}

{# 
        {% if page_anchors.length > 0 %}
            <ul class="escom-title-row__page-anchor">
                {% for page_anchor in page_anchors %}
                    <li class="escom-title-row__page-anchor-item">
                        <a href="{{ page_anchor.href}}" class="escom-title-row__page-anchor-link"> {{ page_anchor.label }} </a>
                    </li>
                {% endfor %}
            </ul>
        {% endif %}
 #}
    {% endcall %}
{% endmacro %}
